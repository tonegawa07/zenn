---
title: "Starshipã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹"
emoji: "ğŸš€"
type: "tech"
topics: [starship, terminal]
published: true
---

## Starshipã¨ã¯

[Starship](https://starship.rs/) ã¯Rustè£½ã®ã‚¯ãƒ­ã‚¹ã‚·ã‚§ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã™ã€‚Bashã€Zshã€Fishã€PowerShellãªã©ä¸»è¦ãªã‚·ã‚§ãƒ«ã«å¯¾å¿œã—ã¦ãŠã‚Šã€1ã¤ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`starship.toml`ï¼‰ã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¡¨ç¤ºå†…å®¹ã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç®¡ç†ã§ãã¾ã™ã€‚

Rustè£½ãªã®ã§å‹•ä½œãŒé€Ÿãã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æç”»ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒã‚‚ãŸã¤ãã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚„ã‚·ã‚§ãƒ«ã”ã¨ã®åˆæœŸåŒ–è¨­å®šã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚

https://starship.rs/guide/#%F0%9F%9A%80-installation

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ `~/.config/starship.toml` ã«é…ç½®ã—ã¾ã™ã€‚

## æ–¹é‡

Starshipã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¤§é‡ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆNode.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€Pythonç’°å¢ƒã€Dockerã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãªã©ï¼‰ã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤ºã—ã¦ãã‚Œã¾ã™ãŒã€è‡ªåˆ†ã«ã¯æƒ…å ±é‡ãŒå¤šã™ãã¾ã—ãŸã€‚æ™®æ®µã®é–‹ç™ºã§ç›®ã«ã™ã‚‹æƒ…å ±ã¯ã€Œã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹ã‹ã€ã€Œã©ã®ãƒ–ãƒ©ãƒ³ãƒã«ã„ã‚‹ã‹ã€ã€Œä½•ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã‹ã€ãã‚‰ã„ãªã®ã§ã€ãã‚Œä»¥å¤–ã¯å‰Šãè½ã¨ã—ã¦ã„ã¾ã™ã€‚

æœ€çµ‚çš„ã«ã“ã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ãªã‚Šã¾ã™ã€‚

![Starshipãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å®Œæˆå½¢](/images/starship-prompt-config-example.png)

## starship.toml

```toml
format = """
$directory\
$git_branch\
$git_status\
$time\
\n$character"""

[git_branch]
symbol = ""
format = '[$symbol $branch ]($style)'

[git_status]
format = '[(\[$conflicted$deleted$renamed$modified$staged$untracked\])($ahead_behind)($stashed)]($style) '
conflicted = '[C${count}](bright-red)'
stashed = '[ğŸ“¦${count}](blue)'
deleted = '[D${count}](red)'
renamed = '[R${count}](bright-black)'
modified = '[M${count}](blue)'
staged = '[A${count}](green)'
untracked = '[U${count}](green)'
up_to_date = 'âœ…'

[git_metrics]
disabled = true

[time]
disabled = false
time_format = "%R"
format = '[ $time ]($style)'

[aws]
disabled = true
```

## `format`ï¼šè¡¨ç¤ºã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµã‚‹

```toml
format = """
$directory\
$git_branch\
$git_status\
$time\
\n$character"""
```

`format` ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ã€è¡¨ç¤ºã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’5ã¤ã«é™å®šã—ã¦ã„ã¾ã™ã€‚

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | è¡¨ç¤ºå†…å®¹ |
|---|---|
| `$directory` | ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
| `$git_branch` | Gitãƒ–ãƒ©ãƒ³ãƒå |
| `$git_status` | Gitã®å¤‰æ›´çŠ¶æ…‹ |
| `$time` | ç¾åœ¨æ™‚åˆ» |
| `$character` | å…¥åŠ›ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆ`â¯`ï¼‰ |

`\n` ã§æ”¹è¡Œã‚’å…¥ã‚Œã¦2è¡Œæ§‹æˆã«ã—ã¦ã„ã¾ã™ã€‚1è¡Œç›®ã«æƒ…å ±ã€2è¡Œç›®ã«ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›ã€‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ‘ã‚¹ãŒæ·±ããªã£ã¦ã‚‚ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›ãŒåœ§è¿«ã•ã‚Œãªã„ã®ãŒæ°—ã«å…¥ã£ã¦ã„ã¾ã™ã€‚

`$directory` ã¯ `[directory]` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›¸ã„ã¦ã„ãªã„ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§å‹•ã„ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `truncate_to_repo = true` ãŒæœ‰åŠ¹ã«ãªã£ã¦ãŠã‚Šã€Gitãƒªãƒã‚¸ãƒˆãƒªå†…ã§ã¯ãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆï¼ˆ`.git` ãŒã‚ã‚‹å ´æ‰€ï¼‰ã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã«è‡ªå‹•ã§åˆ‡ã‚Šè©°ã‚ã‚‰ã‚Œã¾ã™ã€‚

```
# ~/projects/my-app ãŒãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆã®å ´åˆ
~/projects/my-app/src/components  â†’  my-app/src/components ã¨è¡¨ç¤ºã•ã‚Œã‚‹
```

ãƒªãƒã‚¸ãƒˆãƒªå¤–ã§ã¯ `~` ã‹ã‚‰ã®é€šå¸¸ãƒ‘ã‚¹ãŒãã®ã¾ã¾è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

## `git_branch`ï¼šãƒ–ãƒ©ãƒ³ãƒè¡¨ç¤º

```toml
[git_branch]
symbol = ""
format = '[$symbol $branch ]($style)'
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® `symbol` ã¯ `` ã§ã™ãŒã€ãƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã£ã¦ã¯è¡¨ç¤ºãŒå´©ã‚Œã‚‹ã®ã§ç©ºæ–‡å­—ã«ã—ã¦ã„ã¾ã™ã€‚ãƒ–ãƒ©ãƒ³ãƒåã ã‘ã‚ã‚Œã°ååˆ†ã§ã™ã€‚

## `git_status`ï¼šå¤‰æ›´çŠ¶æ…‹ã®è¡¨ç¤º

```toml
[git_status]
format = '[(\[$conflicted$deleted$renamed$modified$staged$untracked\])($ahead_behind)($stashed)]($style) '
conflicted = '[C${count}](bright-red)'
stashed = '[ğŸ“¦${count}](blue)'
deleted = '[D${count}](red)'
renamed = '[R${count}](bright-black)'
modified = '[M${count}](blue)'
staged = '[A${count}](green)'
untracked = '[U${count}](green)'
up_to_date = 'âœ…'
```

`git status --short` ã®è¡¨è¨˜ã«å¯„ã›ã¦ã€å„çŠ¶æ…‹ã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆ1æ–‡å­— + ä»¶æ•°ã§è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚

| ã‚­ãƒ¼ | è¡¨ç¤º | è‰² | æ„å‘³ |
|---|---|---|---|
| `conflicted` | `C${count}` | èµ¤ | ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ« |
| `deleted` | `D${count}` | èµ¤ | å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ« |
| `renamed` | `R${count}` | ã‚°ãƒ¬ãƒ¼ | ãƒªãƒãƒ¼ãƒ ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ« |
| `modified` | `M${count}` | é’ | å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ« |
| `staged` | `A${count}` | ç·‘ | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ« |
| `untracked` | `U${count}` | ç·‘ | æœªè¿½è·¡ã®ãƒ•ã‚¡ã‚¤ãƒ« |
| `stashed` | `ğŸ“¦${count}` | é’ | stashã•ã‚ŒãŸå¤‰æ›´ |
| `up_to_date` | `âœ…` | â€” | ãƒªãƒ¢ãƒ¼ãƒˆã¨åŒæœŸæ¸ˆã¿ |

`${count}` ã‚’å…¥ã‚Œã¦ã„ã‚‹ã®ã§ã€å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒã²ã¨ç›®ã§ã‚ã‹ã‚Šã¾ã™ã€‚ãŸã¨ãˆã° `[M3A1U2]` ãªã‚‰ã€Œå¤‰æ›´3ä»¶ã€ã‚¹ãƒ†ãƒ¼ã‚¸1ä»¶ã€æœªè¿½è·¡2ä»¶ã€ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºã‚ˆã‚Šã‚‚ `git status --short` ã«æ…£ã‚Œã¦ã„ã‚‹äººã«ã¯ç›´æ„Ÿçš„ã ã¨æ€ã„ã¾ã™ã€‚

## `time`ï¼šæ™‚åˆ»è¡¨ç¤º

```toml
[time]
disabled = false
time_format = "%R"
format = '[ $time ]($style)'
```

Starshipã§ã¯æ™‚åˆ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€`disabled = false` ã§æœ‰åŠ¹åŒ–ã—ã¦ã„ã¾ã™ã€‚`%R` ã¯ `HH:MM` å½¢å¼ï¼ˆä¾‹: `14:30`ï¼‰ã§ã™ã€‚å„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®æ™‚åˆ»ãŒæ®‹ã‚‹ã®ã§ã€ä½œæ¥­ã®æ™‚ç³»åˆ—ã‚’è¿½ã†ã¨ãã«å½¹ç«‹ã¡ã¾ã™ã€‚

## ä¸è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç„¡åŠ¹åŒ–

```toml
[git_metrics]
disabled = true

[aws]
disabled = true
```

`git_metrics` ã¯å·®åˆ†ã®è¿½åŠ /å‰Šé™¤è¡Œæ•°ã‚’è¡¨ç¤ºã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ãŒã€`git_status` ã§ååˆ†ãªã®ã§ç„¡åŠ¹åŒ–ã—ã¦ã„ã¾ã™ã€‚

`aws` ã¯AWSã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åã‚„ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ãŒã€å¸¸æ™‚è¡¨ç¤ºã¯ä¸è¦ãªã®ã§ç„¡åŠ¹ã«ã—ã¦ã„ã¾ã™ã€‚

## å‚è€ƒ

- https://starship.rs/
- https://starship.rs/config/
- https://starship.rs/config/#git-status
